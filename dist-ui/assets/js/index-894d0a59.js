import{d as x,c as m,e as k,U as Z,V as _e,g as d,p as D,l as B,b as c,M as U,F,t as g,w as n,f as t,P as A,D as $,$ as ie,a0 as K,a1 as ee,r as L,o as te,s as V,a3 as de,u as f,N as pe,H as ne,j as E,ab as me,ac as fe,k as j,ad as N,O as ve,I as he,ae as be,af as ge,S as oe,G as I,a as Y,q as we,ag as le,J as ye,E as xe,ah as ke,B as z,ai as Se,aj as Ce,ak as $e}from"./index-0dd33b3d.js";import{a as Ve,M as O,g as Ee,_ as Le,b as Te}from"./index-49f69917.js";import{h as Me,g as Fe}from"./util-29963aac.js";import{_ as S}from"./plugin-vue_export-helper-b2bddca3.js";import{T as se}from"./tabs-b62ca399.js";import"./index-f8e1d059.js";const Ae=l=>(D("data-v-2e714cee"),l=l(),B(),l),Ie={class:"logo flx-center"},Re=Ae(()=>d("img",{src:Ve,alt:"logo"},null,-1)),ze=x({__name:"Logo",props:{isCollapse:{type:Boolean}},setup(l){return(o,e)=>(m(),k("div",Ie,[Re,Z(d("span",null,"partman",512),[[_e,!l.isCollapse]])]))}});var De=S(ze,[["__scopeId","data-v-2e714cee"]]);const Be=x({__name:"SubItem",props:{menuList:null},setup(l){return(o,e)=>{const _=c("el-icon"),u=c("SubItem",!0),s=c("el-sub-menu"),r=c("el-menu-item");return m(!0),k(F,null,U(l.menuList,a=>(m(),k(F,{key:a.path},[a.children&&a.children.length>0?(m(),g(s,{key:0,index:a.path},{title:n(()=>[t(_,null,{default:n(()=>[(m(),g(A(a.icon)))]),_:2},1024),d("span",null,$(a.title),1)]),default:n(()=>[t(u,{menuList:a.children},null,8,["menuList"])]),_:2},1032,["index"])):(m(),g(r,{key:1,index:a.path},ie({default:n(()=>[t(_,null,{default:n(()=>[(m(),g(A(a.icon)))]),_:2},1024)]),_:2},[a.isLink?{name:"title",fn:n(()=>[d("a",{class:"menu-href",href:a.isLink,target:"_blank"},$(a.title),9,["href"])])}:{name:"title",fn:n(()=>[d("span",null,$(a.title),1)])}]),1032,["index"]))],64))),128)}}});var Ue=S(Be,[["__scopeId","data-v-4914020f"]]);const Ne=x({__name:"index",setup(l){const o=K(),e=O(),_=ee(),u=L(!1);te(async()=>{u.value=!0;try{const p=await Ee();if(!p.data)return;const y=Me(p.data);_.setAuthRouter(y),e.setMenuList(p.data)}finally{u.value=!1}});const s=V(()=>o.path),r=V(()=>e.isCollapse),a=V(()=>e.menuList),i=L(0);return(()=>{window.onresize=()=>(()=>{i.value=document.body.clientWidth,r.value===!1&&i.value<1200&&e.setCollapse(),r.value===!0&&i.value>1200&&e.setCollapse()})()})(),(p,y)=>{const v=c("el-menu"),h=c("el-scrollbar"),T=de("loading");return Z((m(),k("div",{class:"menu",style:pe({width:f(r)?"65px":"220px"}),"element-loading-text":"Loading..."},[t(De,{isCollapse:f(r)},null,8,["isCollapse"]),t(h,null,{default:n(()=>[t(v,{"default-active":f(s),router:!0,collapse:f(r),"collapse-transition":!1,"unique-opened":!0,"background-color":"#191a20","text-color":"#bdbdc0","active-text-color":"#fff"},{default:n(()=>[t(Ue,{menuList:f(a)},null,8,["menuList"])]),_:1},8,["default-active","collapse"])]),_:1})],4)),[[T,u.value]])}}});var Oe=S(Ne,[["__scopeId","data-v-798ab122"]]);const We=x({__name:"CollapseIcon",setup(l){const o=O(),e=V(()=>o.isCollapse);return(_,u)=>{const s=c("el-icon");return m(),g(s,{class:"collapse-icon",onClick:u[0]||(u[0]=r=>f(o).setCollapse())},{default:n(()=>[(m(),g(A(f(e)?"expand":"fold")))]),_:1})}}});var Ge=S(We,[["__scopeId","data-v-6747eaf4"]]);const He=E("Home"),Pe=x({__name:"Breadcrumb",setup(l){const o=K(),e=V(()=>o.matched.filter(_=>_.meta&&_.meta.title&&_.meta.title!=="Home"));return(_,u)=>{const s=c("el-breadcrumb-item"),r=c("el-breadcrumb");return m(),g(r,{"separator-icon":f(fe)},{default:n(()=>[t(me,{name:"breadcrumb",mode:"out-in"},{default:n(()=>[t(s,{to:{path:f(ne)},key:"/home"},{default:n(()=>[He]),_:1},8,["to"]),(m(!0),k(F,null,U(f(e),a=>(m(),g(s,{key:a.path,to:{path:a.path}},{default:n(()=>[E($(a.meta.title),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1},8,["separator-icon"])}}});const qe={class:"layout-search-dialog"},Ke=x({__name:"SearchMenu",setup(l){const o=j(),e=O(),_=V(()=>Fe(e.menuList)),u=(v,h)=>{const T=v?_.value.filter(p(v)):_.value;h(T)},s=L(!1),r=L(),a=L(""),i=()=>{s.value=!0,a.value="",he(()=>{setTimeout(()=>{r.value.focus()})})},b=()=>{s.value=!1},p=v=>h=>h.path.toLowerCase().indexOf(v.toLowerCase())>-1||h.title.toLowerCase().indexOf(v.toLowerCase())>-1,y=v=>{a.value="",v.isLink&&window.open(v.isLink,"_blank"),o.push(v.path),b()};return(v,h)=>{const T=c("el-tooltip"),C=c("el-icon"),W=c("el-autocomplete"),G=c("el-dialog");return m(),k("div",qe,[t(T,{effect:"dark",content:"Menu Search",placement:"bottom"},{default:n(()=>[d("i",{onClick:i,class:N(["iconfont icon-sousuo","icon-style"])})]),_:1}),t(G,{modelValue:s.value,"onUpdate:modelValue":h[1]||(h[1]=w=>s.value=w),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:n(()=>[t(W,{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=w=>a.value=w),"fetch-suggestions":u,ref_key:"menuInputRef",ref:r,placeholder:"Menu Search: Supports menu name and path",onSelect:y,onBlur:b},{prefix:n(()=>[t(C,null,{default:n(()=>[t(f(ve))]),_:1})]),default:n(({item:w})=>[t(C,null,{default:n(()=>[(m(),g(A(w.icon)))]),_:2},1024),d("span",null,$(w.title),1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}}});var je=S(Ke,[["__scopeId","data-v-d18e8954"]]),J;const R=typeof window!="undefined",Ye=l=>typeof l=="string",H=()=>{};R&&((J=window==null?void 0:window.navigator)==null?void 0:J.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ae(l){return be()?(ge(l),!0):!1}function ce(l){var o;const e=f(l);return(o=e==null?void 0:e.$el)!=null?o:e}const Je=R?window:void 0,Qe=R?window.document:void 0;R&&window.navigator;R&&window.location;function Xe(...l){let o,e,_,u;if(Ye(l[0])?([e,_,u]=l,o=Je):[o,e,_,u]=l,!o)return H;let s=H;const r=oe(()=>ce(o),i=>{s(),i&&(i.addEventListener(e,_,u),s=()=>{i.removeEventListener(e,_,u),s=H})},{immediate:!0,flush:"post"}),a=()=>{r(),s()};return ae(a),a}const P=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},q="__vueuse_ssr_handlers__";P[q]=P[q]||{};P[q];const Q=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function Ze(l,o={}){const{document:e=Qe,autoExit:_=!1}=o,u=l||(e==null?void 0:e.querySelector("html")),s=L(!1);let r=!1,a=Q[0];if(!e)r=!1;else for(const C of Q)if(C[1]in e){a=C,r=!0;break}const[i,b,p,,y]=a;async function v(){!r||(e!=null&&e[p]&&await e[b](),s.value=!1)}async function h(){if(!r)return;await v();const C=ce(u);C&&(await C[i](),s.value=!0)}async function T(){s.value?await v():await h()}return e&&Xe(e,y,()=>{s.value=!!(e!=null&&e[p])},!1),_&&ae(v),{isSupported:r,isFullscreen:s,enter:h,exit:v,toggle:T}}var X;(function(l){l.UP="UP",l.RIGHT="RIGHT",l.DOWN="DOWN",l.LEFT="LEFT",l.NONE="NONE"})(X||(X={}));const et={class:"fullscreen"},tt=x({__name:"Fullscreen",setup(l){const{toggle:o,isFullscreen:e}=Ze();return(_,u)=>{const s=c("el-tooltip");return m(),k("div",et,[t(s,{effect:"dark",content:f(e)?"Exit Full Screen":"Full Screen",placement:"bottom"},{default:n(()=>[d("i",{class:N([["iconfont",f(e)?"icon-suoxiao":"icon-fangda"],"icon-style"]),onClick:u[0]||(u[0]=(...r)=>f(o)&&f(o)(...r))},null,2)]),_:1},8,["content"])])}}});var nt=S(tt,[["__scopeId","data-v-168be66a"]]);const ot=x({__name:"AssemblySize",setup(l){const o=I(),e=V(()=>o.assemblySize),_=Y({default:"Default",large:"Large",small:"Small"}),u=Y(["large","default","small"]),s=r=>{e.value!==r&&o.setAssemblySizeSize(r)};return(r,a)=>{const i=c("el-tooltip"),b=c("el-dropdown-item"),p=c("el-dropdown-menu"),y=c("el-dropdown");return m(),g(y,{trigger:"click",onCommand:s},{dropdown:n(()=>[t(p,null,{default:n(()=>[(m(!0),k(F,null,U(u,v=>(m(),g(b,{key:v,disabled:f(e)===v,command:v},{default:n(()=>[E($(_[v]),1)]),_:2},1032,["disabled","command"]))),128))]),_:1})]),default:n(()=>[d("span",null,[t(i,{effect:"dark",content:"Component size",placement:"bottom"},{default:n(()=>[d("i",{class:N(["iconfont icon-contentright","icon-style"])})]),_:1})])]),_:1})}}});var lt=S(ot,[["__scopeId","data-v-53ea7b09"]]);const M=l=>(D("data-v-17fcc9ac"),l=l(),B(),l),st={class:"divider-content"},at=E(" Global theme "),ct={class:"theme-item"},rt=M(()=>d("span",null,"Dark theme",-1)),ut={class:"theme-item"},_t=M(()=>d("span",null,"Grayscale",-1)),it={class:"theme-item"},dt=M(()=>d("span",null,"Invert",-1)),pt=M(()=>d("br",null,null,-1)),mt={class:"divider-content"},ft=E(" Interface settings "),vt={class:"theme-item"},ht=M(()=>d("span",null,"Fold menu",-1)),bt={class:"theme-item"},gt=M(()=>d("span",null,"Breadcrumbs",-1)),wt={class:"theme-item"},yt=M(()=>d("span",null,"Tab bar",-1)),xt=x({__name:"Theme",setup(l){const o=I(),e=V(()=>o.themeConfig),_=O(),u=V({get(){return _.isCollapse},set(){_.setCollapse()}}),{changePrimary:s,changeGreyOrWeak:r}=we(),a=L(!1),i=()=>{a.value=!0};return(b,p)=>{const y=c("el-tooltip"),v=c("ColdDrink"),h=c("el-icon"),T=c("el-divider"),C=c("el-switch"),W=c("Setting"),G=c("el-drawer");return m(),k("div",null,[t(y,{effect:"dark",content:"Layout settings",placement:"bottom"},{default:n(()=>[d("i",{class:N(["iconfont icon-zhuti","icon-style"]),onClick:i})]),_:1}),t(G,{modelValue:a.value,"onUpdate:modelValue":p[7]||(p[7]=w=>a.value=w),title:"Layout settings",size:"300px"},{default:n(()=>[t(T,{class:"divider","content-position":"center"},{default:n(()=>[d("div",st,[t(h,null,{default:n(()=>[t(v)]),_:1}),at])]),_:1}),d("div",ct,[rt,t(Le)]),d("div",ut,[_t,t(C,{modelValue:f(e).isGrey,"onUpdate:modelValue":p[0]||(p[0]=w=>f(e).isGrey=w),onChange:p[1]||(p[1]=w=>f(r)(w,"grey"))},null,8,["modelValue"])]),d("div",it,[dt,t(C,{modelValue:f(e).isWeak,"onUpdate:modelValue":p[2]||(p[2]=w=>f(e).isWeak=w),onChange:p[3]||(p[3]=w=>f(r)(w,"weak"))},null,8,["modelValue"])]),pt,t(T,{class:"divider","content-position":"center"},{default:n(()=>[d("div",mt,[t(h,null,{default:n(()=>[t(W)]),_:1}),ft])]),_:1}),d("div",vt,[ht,t(C,{modelValue:f(u),"onUpdate:modelValue":p[4]||(p[4]=w=>le(u)?u.value=w:null)},null,8,["modelValue"])]),d("div",bt,[gt,t(C,{modelValue:f(e).breadcrumb,"onUpdate:modelValue":p[5]||(p[5]=w=>f(e).breadcrumb=w)},null,8,["modelValue"])]),d("div",wt,[yt,t(C,{modelValue:f(e).tabs,"onUpdate:modelValue":p[6]||(p[6]=w=>f(e).tabs=w)},null,8,["modelValue"])])]),_:1},8,["modelValue"])])}}});var kt=S(xt,[["__scopeId","data-v-17fcc9ac"]]);const St=d("span",null,"This is userInfo",-1),Ct=x({__name:"InfoDialog",setup(l,{expose:o}){const e=L(!1);return o({openDialog:()=>{e.value=!0}}),(u,s)=>{const r=c("el-dialog");return m(),g(r,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a),title:"\u4E2A\u4EBA\u8D44\u6599",width:"500px",draggable:""},{default:n(()=>[St]),_:1},8,["modelValue"])}}}),$t=d("span",null,"This is Password",-1),Vt={class:"dialog-footer"},Et=E("\u53D6\u6D88"),Lt=E("\u786E\u8BA4"),Tt=x({__name:"PasswordDialog",setup(l,{expose:o}){const e=L(!1);return o({openDialog:()=>{e.value=!0}}),(u,s)=>{const r=c("el-button"),a=c("el-dialog");return m(),g(a,{modelValue:e.value,"onUpdate:modelValue":s[2]||(s[2]=i=>e.value=i),title:"\u4FEE\u6539\u5BC6\u7801",width:"500px",draggable:""},{footer:n(()=>[d("span",Vt,[t(r,{onClick:s[0]||(s[0]=i=>e.value=!1)},{default:n(()=>[Et]),_:1}),t(r,{type:"primary",onClick:s[1]||(s[1]=i=>e.value=!1)},{default:n(()=>[Lt]),_:1})])]),default:n(()=>[$t]),_:1},8,["modelValue"])}}});const Mt={class:"avatar isicon"},Ft=x({__name:"Avatar",setup(l){const o=j(),e=I(),_=()=>{ye.confirm("Are you sure you want to sign out? You will have to log back in.","Are you sure?",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then(()=>{o.push({name:"login"}),e.setToken(""),e.setUserInfo(null),xe({type:"success",message:"Logged out"})})},u=L(null),s=L(null),r=a=>{var i,b;if(a=="infoRef")return(i=u.value)==null?void 0:i.openDialog();(b=s.value)==null||b.openDialog()};return(a,i)=>{const b=c("Avatar",!0),p=c("el-icon"),y=c("el-dropdown-item"),v=c("el-dropdown-menu"),h=c("el-dropdown");return m(),k(F,null,[t(h,{trigger:"click"},{dropdown:n(()=>[t(v,null,{default:n(()=>[t(y,{onClick:i[0]||(i[0]=T=>r("infoRef"))},{default:n(()=>[E($(a.$t("header.accountInfo")),1)]),_:1}),t(y,{onClick:_,divided:""},{default:n(()=>[E($(a.$t("header.logout")),1)]),_:1})]),_:1})]),default:n(()=>[d("div",Mt,[t(p,null,{default:n(()=>[t(b)]),_:1})])]),_:1}),t(Ct,{ref_key:"infoRef",ref:u},null,512),t(Tt,{ref_key:"passwordRef",ref:s},null,512)],64)}}});var At=S(Ft,[["__scopeId","data-v-6a577844"]]);const It=l=>(D("data-v-5847320e"),l=l(),B(),l),Rt=It(()=>d("div",{class:"divider-content"},"About partman",-1)),zt=x({__name:"About",setup(l){const o=L(!1),e=()=>{o.value=!0};return(_,u)=>{const s=c("el-icon"),r=c("el-tooltip"),a=c("el-divider"),i=c("el-drawer");return m(),k("div",null,[t(r,{effect:"dark",content:"About",placement:"bottom"},{default:n(()=>[t(s,{class:"icon-style el-icon",onClick:e},{default:n(()=>[t(f(ke))]),_:1})]),_:1}),t(i,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=b=>o.value=b),title:"About",size:"300px"},{default:n(()=>[t(a,{class:"divider","content-position":"center"},{default:n(()=>[Rt]),_:1})]),_:1},8,["modelValue"])])}}});var Dt=S(zt,[["__scopeId","data-v-5847320e"]]);const Bt={class:"header"},Ut={class:"header-lf flx-center"},Nt={class:"header-ri flx-center"},Ot={class:"header-icon"},Wt={class:"username"},Gt=x({__name:"index",setup(l){const o=I(),e=V(()=>o.themeConfig),_=V(()=>o.userInfo);return(u,s)=>{var r;return m(),k("div",Bt,[d("div",Ut,[t(Ge,{id:"collapseIcon"}),f(e).breadcrumb?(m(),g(Pe,{key:0,id:"breadcrumb"})):z("",!0)]),d("div",Nt,[d("div",Ot,[t(Dt,{id:"about"}),t(lt,{id:"assemblySize"}),t(kt,{id:"theme"}),t(nt,{id:"fullscreen"}),t(je,{id:"searchMenu"})]),d("span",Wt,$((r=f(_))==null?void 0:r.profile.name),1),t(At)])])}}});var Ht=S(Gt,[["__scopeId","data-v-dbaf84de"]]);const Pt=x({__name:"MoreButton",setup(l){const o=se(),e=()=>{o.tabsMenuValue!==ne&&o.removeTabs(o.tabsMenuValue)},_=()=>{o.closeMultipleTab(o.tabsMenuValue)},u=()=>{o.closeMultipleTab(),o.goHome()};return(s,r)=>{const a=c("arrow-down"),i=c("el-icon"),b=c("el-button"),p=c("el-dropdown-item"),y=c("el-dropdown-menu"),v=c("el-dropdown");return m(),g(v,{trigger:"click"},{dropdown:n(()=>[t(y,null,{default:n(()=>[t(p,{onClick:e},{default:n(()=>[E($(s.$t("tabs.closeCurrent")),1)]),_:1}),t(p,{onClick:_},{default:n(()=>[E($(s.$t("tabs.closeOther")),1)]),_:1}),t(p,{onClick:u},{default:n(()=>[E($(s.$t("tabs.closeAll")),1)]),_:1})]),_:1})]),default:n(()=>[t(b,{size:"small",type:"primary"},{default:n(()=>[d("span",null,$(s.$t("tabs.more")),1),t(i,{class:"el-icon--right"},{default:n(()=>[t(a)]),_:1})]),_:1})]),_:1})}}});var qt=S(Pt,[["__scopeId","data-v-633af5c8"]]);const Kt={class:"tabs-box"},jt={class:"tabs-menu"},Yt=x({__name:"index",setup(l){const o=se(),e=V(()=>o.tabsMenuList),_=V({get:()=>o.tabsMenuValue,set:i=>{o.setTabsMenuValue(i)}}),u=K(),s=j();oe(()=>u.path,()=>{let i={title:u.meta.title,path:u.path,close:!0};o.addTabs(i)},{immediate:!0});const r=i=>{let b=i.props.name;s.push(b)},a=i=>{o.removeTabs(i)};return(i,b)=>{const p=c("el-icon"),y=c("el-tab-pane"),v=c("el-tabs");return m(),k("div",Kt,[d("div",jt,[t(v,{modelValue:f(_),"onUpdate:modelValue":b[0]||(b[0]=h=>le(_)?_.value=h:null),type:"card",onTabClick:r,onTabRemove:a},{default:n(()=>[(m(!0),k(F,null,U(f(e),h=>(m(),g(y,{key:h.path,path:h.path,label:h.title,name:h.path,closable:h.close},{label:n(()=>[h.icon?(m(),g(p,{key:0,class:"tabs-icon"},{default:n(()=>[(m(),g(A(h.icon)))]),_:2},1024)):z("",!0),E(" "+$(h.title),1)]),_:2},1032,["path","label","name","closable"]))),128))]),_:1},8,["modelValue"]),t(qt)])])}}});var Jt=S(Yt,[["__scopeId","data-v-f836eb6a"]]);const Qt={},Xt=l=>(D("data-v-979b11b2"),l=l(),B(),l),Zt={class:"footer flx-center"},en=Xt(()=>d("a",{href:"http://www.spicyboy.cn/",target:"_blank"}," 2022 \xA9 partman by phcreery ",-1)),tn=[en];function nn(l,o){return m(),k("div",Zt,tn)}var on=S(Qt,[["render",nn],["__scopeId","data-v-979b11b2"]]);let re=[];const ue=(l,o)=>{l.forEach(e=>{var _;((_=e.meta)==null?void 0:_.keepAlive)&&e.name&&o.push(e.name),e.children&&e.children.length!==0&&ue(e.children,o)})};ue(Se,re);const ln={class:"main-box"},sn=x({__name:"index",setup(l){const o=ee(),e=I(),_=V(()=>e.themeConfig);return te(async()=>{const u=await Te();u.data&&o.setAuthButtons(u.data)}),(u,s)=>{const r=c("el-aside"),a=c("el-header"),i=c("router-view"),b=c("el-main"),p=c("el-footer"),y=c("el-container");return m(),g(y,null,{default:n(()=>[t(r,null,{default:n(()=>[t(Oe)]),_:1}),t(y,null,{default:n(()=>[t(a,null,{default:n(()=>[t(Ht),f(_).tabs?(m(),g(Jt,{key:0})):z("",!0)]),_:1}),t(b,null,{default:n(()=>[d("section",ln,[t(i,null,{default:n(({Component:v,route:h})=>[t(Ce,{appear:"",name:"fade-transform",mode:"out-in"},{default:n(()=>[(m(),g($e,{include:f(re)},[(m(),g(A(v),{key:h.path}))],1032,["include"]))]),_:2},1024)]),_:1})])]),_:1}),f(_).footer?(m(),g(p,{key:0},{default:n(()=>[t(on)]),_:1})):z("",!0)]),_:1})]),_:1})}}});var pn=S(sn,[["__scopeId","data-v-c91cf476"]]);export{pn as default};
